#labels Featured
= revision history=

==Beta releases==
<pre>
no beta release online
</pre>

==Releases==
===v 1.0.4 (r156)===
<pre>
fixed - error when assigning a Null value to numerical fields (issue 76)
fixed - error message has meaningless line number (issue 77)
fixed - user cannot cancel parsing a *very* large ruleset collection (issue 78)
</pre>
===v 1.0.3 (r155)===
<pre>
fixed - cancellation of backgroundworker did not work as expected (issue 74)
fixed - Data Manger won't run in a combined after CV Scraper (issue 75)
</pre>
===v 1.0.2 (r154)===
<pre>
change - GUI tab order corrected
change - GUI supports import / export of groups
change - GUI supports import option
change - GUI: Text edit of Rulesets (in the ruleset panel) now always visible
change - GUI: window is resizable
change - included GUI 0.1.1r18
</pre>

===v 1.0.1===
<pre>r152
change - included GUI 0.1.1r11
</pre>
<pre>r151
change - added string fields BookAge,BookCondition,BookLocation to dataman.ini (issue 68)
fixed - range modifiers GreaterEq etc. might give unexpected results (issue 71)
fixed - progress form now supports cancellation while running over the selected books
</pre>
===v 1.0.0===
<pre>
r150 (RC2)
fixed - user.ini was overwritten by installation (issue 70, was missing in keepfiles parameter)
fixed - Exception in stringRemoveLeading (str.startsWith() used instead of str.startswith() )
change - includes GUI 0.1.1r10


r149 (RC1)
fixed - combination of numerical key and Null value like <<Count:>> raised Exception
bug - if a large set of books is selected then the second progressbar will freeze
fixed - if an Exception is thrown while executing the rules the for loop continues running
change - using the backgroundWorker to handle the main loops
fixed - erratic error: expecting an indented block (issue 66). 
     Code now is written to memory, not to file as before 
change - includes GUI 0.1.0r8 RC9
</pre>

===v 0.1.15 (last beta before 1.0, not public)===
<pre>
fixed - "do you want to see the log" dialogbox always appears behind the Comicrack Window
        (issue 34) (set ComicRack.Window  as parent window handle for all forms)
change - modular rewriting of forms
change - Contains compares now case insensitive
change - StartsWith compares now case insensitive
change - comparison for equality (==) is now case insensitive
change - comparison for less (<) is now case insensitive
change - comparison for lessEqual (<=) is now case insensitive
change - comparison for greater (>) is now case insensitive
change - comparison for greaterEq (>=) is now case insensitive
change - comparison for not equal (<>) is now case insensitive
fix - missing references to globalvars added
change - PageCount added to allowed keys
change - new modifier ContainsAnyOf (issue 28)
change - new modifier ContainsNot (may used as well as NotContains)
change - new modifier ContainsAllOf (issue 40)
change - if no value was modified by the DM, only "book xxx was touched" is written to logfile
change - new modifier NotContainsAnyOf
change - new modifier StartsWithAnyOf
change - new directive "#@ END_RULES"
change - new class "parser"
change - new class "ruleFile" (encapsulated reading and writing the DATFILE)
fix - exception when Null value was used in Range modifier
change - when error was raised by compiling code a MessageBox will show the error
...
r105
change - Configurator form re-written
change - basic Search functionality in Configurator
...
r106
change - first rudimentary GUI written (no functionality yet)
...
r109
change - ComicRack version check at start (min is 0.9.165)
change - basic GUI functionality
...
r111
change - new directive #@ GROUP
change - added combobox to find group header in textbox
change - textclips (like commentary line, group header etc. can be added via GUI)
change - rule editor position set to CenterParent
fixed - 'setvalue' was not recognized as a valid modifier
fixed - exception if file in rule editor is not the DatFile and combobox group selector is selected
...
r113
fixed - sometimes selected text in rule set is overwritten by inserted rule (GUI)
fixed - criterion or setvalue are not added to rule if already in there (GUI)
change - buttons for deleting content of textboxes for criteria and setvalue (GUI)
change - group names are checked if already used
fixed - Contains... methods in class parser rewritten (unexpected results when leading
        or trailing blanks where attached to values)
fixed - exception when a criterion with apostrophe or quotation mark was written to the log file
        (issue 36)
...
r114
change - save and close added to configurator menustrip
change - option to backup and restore the rule set (issue 30)
change - DMProc is no longer added to Tags but written as a custom value (issue 33)
..
r115
change - new allowed fields: alternateNumber and alternateCount (issue 44)
fixed - comboModifiers does not match comboCriteria and comboValues (issue 48)
change - option to select line by line number (issue 49)
...
r117
change - GUI: delete rule from rule set
change - GUI: re-engineer rule
change - menu strip upgraded
...
r121
change - new allowed fields: Title
fixed - unexpected behavior with book numbers like '5AU', 'Minus 1', 'Â¼', fixed with
        function 'stringToFloat'
change - rule editor is now dropdown option in CR toolbar (form MainForm is obsolete)
change - range modifier is not selectable for string fields anymore in GUI
fixed - group header combo box was not updated when backup of rule set was loaded
...
r125
change - parser directive '#@ END_GROUP' added (issue 56)
change - new list ruleFile.pseudoNumericalKeys (Number, AlternateNumber)
change - new modifier Add for string type fields (non-multi value) (issue 32)
change - new modifier Replace for string type fields (non-multi value) (issue 32)
change - new modifier Remove for string type fields (non-multi value) (issue 32)
fixed - range modifiers for multivalue keys are now restricted 
        to the elements of ruleFile.allowedKeyModifiersMulti (issue 55)
...
r128
change - new modifier NotStartsWith
change - new modifier NotStartsWithAnyOf
change - new value modifier RemoveLeading 
        (leading and trailing blanks are respected) (issue 53)
fixed - StringReplace modifier does not ignore leading or 
        trailing blanks anymore
change - added directives #@ AUTHOR, #@ NOTES, #@ END_NOTES (issue 59)
change - added all missing fields of type string, numeric, multi-value
change - when book was touched the process date is now written to CustomValue 'DataManager.processed'
         (this was it is only displayed when turned on with ShowCustomScriptValues = true in ComicRack.ini) 
...
r129
fixed - comparer >= etc. did not work as expected with numerical values
fixed - progressbar was hidden behind CR window when clicked (removed MainWindow handle, issue 52)
...
r133
change - allowed vals and modifiers are read from dataman.ini
...
r136
change - integration of user.ini
change - startup dialog asks user if he wants to start Data Manager running
change - all dialog frames set to Fixed3D (fixes issue 13)
...
r138 TEST RELEASE
change - configure runs GUI exe
...
r140
fixed - string condition for numerical field throws exception (issue 61)
fixed - the progressbar form is not disposed if parser code raises error
change - added argument FOLDER to gui call
fixed - exception when infinite symbol is used with number (issue 63)
fixed - various problems with infinite symbol
fixed - reading and writing the configuration with unicode characters from old gui raised Exception

r141
fixed - progressbar does not show progress while parsing rules
fixed - label text of progressbar is not updating
fixed - progressbar was not centered
change - added allowedValModifiersNumeric to dataman.ini
fixed - GUI crashes if called with path argument (issue 64, no path argument needed anymore)

r142
fixed - exception when min value in range is greater than max value
fixed - exception with non-ASCII characters in string fields
fixed - exception when a temporary file was locked

r143
change - new modifiers isAnyOf and NotIsAnyOf (included in dataman.ini) (issue 51)
change - includes GUI 0.1.0r8 RC2

r145
fix - functions replace, remove, removeLeading now compare caseinsensitive
change - includes GUI 0.1.0r8 RC6</pre>

===v 0.1.14 release 83 (last public release before 1.0)===
<pre>
 fixed - unexpected result if criteria in Number field is Null (issue 31)
fixed - Null values in numerical fields are actually stored as -1 by CR. Using Null values in
criteria on these field might return unexpected results
fixed - exception if book.Number is Null and used in conjunction with ==, >, <, >=, <= etc.
fixed - maximization of form displayResults was possible
change - multiValueAdd rewritten to get rid of duplicates because of leading blanks etc.
change - multiValueReplace rewritten to get rid of duplicates because of leading blanks etc.
change - multiValueRemove rewritten to get rid of duplicates because of leading blanks etc.


v 0.1.13 r72

 fixed - exception if generated code raises error
fixed - exception if rules tries to set numerical field to zero value
fixed - progress bar does not close if error in generated code

v 0.1.12 r67

 fixed - colon in series results in #invalid expression
fixed - error when running Data Manager if existing dataman.dat was in v 0.1.10 format

v 0.1.11 r62

 change - function writeDataFile() rewritten to make it easier to read (and edit) with Notepad etc.
change - configurator displays current line number
change - cursor of configurator set to Cursors.Wait while saving data
change - modifiers in keys and newvals are case tolerant (you may use StartsWith or startsWith or startswith)
fix - exception if no double colon ':' in NewValue part of rule
fix - exception if no double colon ':' in Criteria part of rule
fix - slight delay when code was generated eliminated by removing debug code
change - Genre field allowed
change - Tags field allowed
change - Add, Remove, Replace as modifiers for multi value fields
change - Tag "DMProc" added if a book has been modified by Data Manager

v 0.1.10 changes r53

 note written to log file if old value = new value (issue 18)
unicode support added (issue 20)
log viewer displays unicode correctly
function writeCode rewritten

#
# v 0.1.9 r43
# fixed: unexpected results if Calc modifier is used in rules
#
# v 0.1.8 r32 changes
#
# main dialog polished
# new "About" dialog
# class initialForm renamed to mainForm
# info on log viewer if no book book was touched
# text in configurator and log viewer is not pre-selected anymore
# typos in aboutForm.label and mainForm.label corrected
# close button added to log viewer
# licence information integrated in code
# status label in configurator if data was changed or saved
# progress bar while rules are running
# custom dialog instea of MessageBox to display result of running dataMan
#
# v 0.1.7 fixed
# unexpected error writes 0 byte configuration
# unexpected behavior if lines in configuration are prefixed before <<
# due to syntax error FilePath is not considered a valid field
#
# v 0.1.7 changes
# syntax check before configuratin is written
# empty lines are excluded from configuration
# configurator and init window set to fixed size
# Genre can be used in criteria and new value part
# configurator allows use of tabs
# configurator does not use word wrap
# design of configurator updated
#
# v 0.1.7 issues
# tags field not included
# initial dialog needs "about" button
#
# v 0.1.6 fixes
# range modifier does not work as expected

# v 0.1.5 fixes:
# range modifier is mis-interpreted
# problems for the number field with > >= < <= 
# minus entries in Number field are interpreted incorrectly
# decimal value in number field throws exception

# v 0.1.4 changes:
# global use of configurator form (in progress)
# added icons
# added hook in toolbar
# added initial form to run or configure
# added LogFile viewer
# 
# v 0.1.4 fixes:
# exception thrown when StarsWith modifier was used with a second criterion

v 0.1.3 changes:
Format field can be used
new modifier StartsWith
AlternateSeries can be used
field Count can be used
fields FilePath and FileName can be used
configuration file can be edited from within ComicRack

v 0.1.3 fixes:
exception thrown if dataman.dat does not exist

v 0.1.2 fixes:
exception because of missing newline after criteria
Range modifier was misinterpreted if the field is non-numerical (like Number)

v.0.1.1 changes:
generated code includes exception handling

v 0.1.0 changes:
read configuration from replacaData.dat - done 2013-03-13
added 'Contains' as modifier (e.g. <<FileDirectory.Contains:TPB>> => <<Format:TPB>>)
more modifiers: Greater, GreaterEq, Less, LessEq
use of FileDirectory allowed in criteria
use of SeriesGroup allowed in criteria and newVals
use of MainCharacterOrTeam is allowed in criteria and newVals
parser errors are written to replaceData.log
added Calc as modifier in newValue (e.g. => <<Number:{Number} - 441>>)
results are logged in file replaceData.log

v 0.1.0 fixes:
Exception thrown when you try to insert a string value in a numerical field


</pre>